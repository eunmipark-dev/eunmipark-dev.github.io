{"version":3,"file":"component---src-pages-post-tsx-2b47aa95496116437c38.js","mappings":"oRA6BO,MAAMA,EAAeC,IAA0B,IAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,IAAzB,YAAEC,GAAkBhB,EAC/C,MAAM,aAAEiB,IAAiBC,EAAAA,EAAAA,KACnBC,GAAOC,EAAAA,EAAAA,IAAiBH,EAAaD,EAAYK,OACjDC,GAAQC,EAAAA,EAAAA,IAAuBJ,SAAgB,QAAZlB,EAAJkB,EAAMK,kBAAU,IAAAvB,GAAQ,QAARC,EAAhBD,EAAkBwB,cAAM,IAAAvB,OAApB,EAAJA,EAA0BwB,WAEzDC,GADSR,SAAgB,QAAZhB,EAAJgB,EAAMK,kBAAU,IAAArB,GAAQ,QAARC,EAAhBD,EAAkByB,cAAM,IAAAxB,GAAQ,QAARC,EAAxBD,EAA0ByB,cAAM,IAAAxB,GAAhCA,EAAkCyB,MAChCX,SAAoB,QAAhBb,EAAJa,EAAMK,WAAWO,WAAG,IAAAzB,GAAc,QAAdC,EAApBD,EAAsB0B,oBAAY,IAAAzB,OAA9B,EAAJA,EAAoC0B,KAAIC,GAAKA,EAAEJ,SAAS,IAEnEK,EAA4BhB,SAAc,QAAVX,EAAJW,EAAMiB,gBAAQ,IAAA5B,OAAV,EAAJA,EAAgB6B,MAChDC,GAAKA,EAAEC,OAASC,EAAAA,EAAUC,QAEtBC,EAAeP,SAAAA,EAAYQ,MAC7B,uCAAuCC,mBAAmC,QAAjBnC,EAAC0B,EAAWQ,aAAK,IAAAlC,OAAA,EAAhBA,EAAkBoC,KAAKC,uBAC/EX,EAAWY,yBAEb,GAEEC,EAAe,GAGe,IAAAC,EAAAC,EAGDC,EAAAC,GALnCJ,EAAaK,KAAK,aAEdlC,SAAgB,QAAZT,EAAJS,EAAMK,kBAAU,IAAAd,GAAhBA,EAAkB4C,eACpBN,EAAaK,KAAK,QAAQlC,SAAgB,QAAZ8B,EAAJ9B,EAAMK,kBAAU,IAAAyB,GAAc,QAAdC,EAAhBD,EAAkBK,oBAAY,IAAAJ,OAA1B,EAAJA,EAAgCK,KAAKC,SAE7DrC,SAAgB,QAAZR,EAAJQ,EAAMK,kBAAU,IAAAb,GAAhBA,EAAkB8C,aACpBT,EAAaK,KAAK,QAAQlC,SAAgB,QAAZgC,EAAJhC,EAAMK,kBAAU,IAAA2B,GAAa,QAAbC,EAAhBD,EAAkBM,mBAAW,IAAAL,OAAzB,EAAJA,EAA+BG,KAAKC,SA8BhE,OACEE,EAAAA,EAAAA,IAACC,EAAAA,EAAG,CACFC,YAAaZ,EAAaa,KAAK,MAC/BC,SAAQ,CAAyC,QAAzClD,EAAGO,SAAgB,QAAZN,EAAJM,EAAMK,kBAAU,IAAAX,GAAQ,QAARC,EAAhBD,EAAkBe,cAAM,IAAAd,GAAQ,QAARC,EAAxBD,EAA0Be,cAAM,IAAAd,OAA5B,EAAJA,EAAkCe,YAAI,IAAAlB,EAAAA,EAAI,IAAEmD,QAAAC,EAAAA,EAAAA,GAAKrC,IAC5DsC,SAAUjD,EAAYK,KACtB6C,UAAWxB,EACXpB,MAAOA,GACP,EAsDN,UAlDsC6C,IAA0B,IAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,IAAzB,YAAE/D,GAAkBmD,EACzD,MAAM,KAAE9C,GAASL,GACX,aAAEC,IAAiBC,EAAAA,EAAAA,KACnBC,GAAOC,EAAAA,EAAAA,IAAiBH,EAAaI,IACrCC,GAAQC,EAAAA,EAAAA,IAAuBJ,SAAgB,QAAZiD,EAAJjD,EAAMK,kBAAU,IAAA4C,GAAQ,QAARC,EAAhBD,EAAkB3C,cAAM,IAAA4C,OAApB,EAAJA,EAA0B3C,WACzDE,EAAST,SAAgB,QAAZmD,EAAJnD,EAAMK,kBAAU,IAAA8C,GAAQ,QAARC,EAAhBD,EAAkB1C,cAAM,IAAA2C,OAApB,EAAJA,EAA0B1C,OAEnCmD,EAAoC,CACxC,CAAElD,KAAM,IAAKgB,IAAKmC,EAAAA,EAAMC,QACxB,CAAEpD,KAAM,OAAQgB,IAAKmC,EAAAA,EAAME,UAS7B,OAPIvD,GACFoD,EAAgB3B,KAAK,CACnBvB,KAAM,GAAGF,EAAOE,OAChBgB,IAAKmC,EAAAA,EAAME,MAAM,CAAEvD,OAAQA,aAAM,EAANA,EAAQE,UAKrC4B,EAAAA,EAAAA,IAAC0B,EAAAA,EAAU,CAACC,UAAU,SACpB3B,EAAAA,EAAAA,IAAC4B,EAAAA,EAAU,CAACC,MAAOP,KACnBtB,EAAAA,EAAAA,IAAA,gBACEA,EAAAA,EAAAA,IAAC8B,EAAAA,GAAK,CAACnE,KAAMA,EAAMC,MAAOA,KAE1BoC,EAAAA,EAAAA,IAAC+B,EAAAA,GAAgB,CACfC,YAAavE,SAAgB,QAAZqD,EAAJrD,EAAMK,kBAAU,IAAAgD,OAAZ,EAAJA,EAAkBlB,aAC/BqC,WAAYxE,SAAgB,QAAZsD,EAAJtD,EAAMK,kBAAU,IAAAiD,OAAZ,EAAJA,EAAkBhB,YAC9B1B,IAAKZ,SAAgB,QAAZuD,EAAJvD,EAAMK,kBAAU,IAAAkD,GAAK,QAALC,EAAhBD,EAAkB3C,WAAG,IAAA4C,OAAjB,EAAJA,EAAuB3C,aAC5B4D,YAAU,KAGZlC,EAAAA,EAAAA,IAACmC,EAAAA,GAAiB,CAChBC,eACE,IAAIC,KAA+C,QAA3CnB,EAACzD,SAAgB,QAAZ0D,EAAJ1D,EAAMK,kBAAU,IAAAqD,GAAa,QAAbC,EAAhBD,EAAkBpB,mBAAW,IAAAqB,GAAM,QAANC,EAA7BD,EAA+BvB,YAAI,IAAAwB,OAA/B,EAAJA,EAAqCvB,aAAK,IAAAoB,EAAAA,EAAI,MAI3DlB,EAAAA,EAAAA,IAACsC,EAAAA,GAAe,CAACC,OAAQ,CAAC,KAAM,KAAM,SAEtCvC,EAAAA,EAAAA,IAAA,OAAK2B,UAAU,iBACZlE,aAAI,EAAJA,EAAMiB,YAAYsB,EAAAA,EAAAA,IAACwC,EAAAA,GAAQ,CAACC,UAAWhF,EAAKiB,cAIjDsB,EAAAA,EAAAA,IAAA,WAAS2B,UAAU,kBAClB3B,EAAAA,EAAAA,IAAC0C,EAAAA,GAAQ,CAACC,QAAM,IACN,C","sources":["webpack://Eunmi Park's blog/./src/pages/post.tsx"],"sourcesContent":["import { HeadFC, PageProps } from 'gatsby'\r\n\r\nimport * as React from 'react'\r\n\r\n// import '@scss/global.scss'\r\n// import '@scss/pages/PostPage.scss'\r\nimport SEO from '@components/header/SEO'\r\nimport { getPlainTextByRichText, notionNodeToJson } from '@utils/notion.util'\r\nimport { BlockType, ImageChildren } from '@appTypes/notion.type'\r\nimport {\r\n  Contents,\r\n  //   Feedback,\r\n  LastEditedCaution,\r\n  //   OutLink,\r\n  //   Share,\r\n  TableOfContents,\r\n  Title,\r\n  TitleDescription,\r\n} from '@components/post'\r\n// import { Giscus } from '@components/post/giscus';\r\nimport { FloatBox } from '@components/ui'\r\nimport Breadcrumb, {\r\n  BreadcrumbStep,\r\n} from '@components/ui/breadcrumb/Breadcrumb'\r\nimport { useNotion } from '@hooks/useNotion'\r\nimport { MainLayout } from '@layout/main'\r\n// import { NAMES } from '@src/constants';\r\nimport { paths } from '@utils/url.util'\r\n\r\nexport const Head: HeadFC = ({ pageContext }: any) => {\r\n  const { getNodeByUrl } = useNotion()\r\n  const node = notionNodeToJson(getNodeByUrl(pageContext.slug))\r\n  const title = getPlainTextByRichText(node?.properties?.remark?.rich_text)\r\n  const series = node?.properties?.series?.select?.name\r\n  const tagNames = node?.properties.tag?.multi_select?.map(t => t.name) || []\r\n\r\n  const imageBlock: ImageChildren = node?.children?.find(\r\n    c => c.type === BlockType.IMAGE,\r\n  ) as ImageChildren\r\n  const thumbnailUrl = imageBlock?.image\r\n    ? `https://treefeely.notion.site/image/${encodeURIComponent(imageBlock.image?.file.url)}?table=block&id=${\r\n        imageBlock.id\r\n      }&cache=v2&width=1200`\r\n    : ''\r\n\r\n  const descriptions = []\r\n  descriptions.push('저자: Milot')\r\n\r\n  if (node?.properties?.created_date) {\r\n    descriptions.push(`작성일: ${node?.properties?.created_date?.date.start}`)\r\n  }\r\n  if (node?.properties?.edited_date) {\r\n    descriptions.push(`수정일: ${node?.properties?.edited_date?.date.start}`)\r\n  }\r\n\r\n  /*const getDescriptionText = (header2Name: '한줄평' | '머리말') => {\r\n    const h2PrefaceIndex = node?.children?.findIndex(\r\n      c => c.type === 'heading_2' && c.heading_2?.rich_text[0]?.plain_text === header2Name\r\n    );\r\n\r\n    if (0 <= h2PrefaceIndex && h2PrefaceIndex + 1 < node.children.length) {\r\n      const h2Preface = node?.children[h2PrefaceIndex + 1];\r\n      if (h2Preface?.type === BlockType.PARAGRAPH) {\r\n        return `${header2Name}: ${h2Preface.paragraph.rich_text[0]?.plain_text}`;\r\n      }\r\n    } else {\r\n      const firstParagraph = node?.children?.find(\r\n        c => c.type === BlockType.PARAGRAPH && c.paragraph.rich_text.length\r\n      ) as ParagraphChildren;\r\n      return `${firstParagraph?.paragraph?.rich_text[0]?.plain_text || ''}`;\r\n    }\r\n  };\r\n\r\n  switch (series) {\r\n    case NAMES.TREEPEDIA:\r\n      descriptions.push(getDescriptionText('한줄평'));\r\n      break;\r\n    default:\r\n      descriptions.push(getDescriptionText('머리말'));\r\n      break;\r\n  }*/\r\n\r\n  return (\r\n    <SEO\r\n      description={descriptions.join(', ')}\r\n      keywords={[node?.properties?.series?.select?.name ?? '', ...tagNames]}\r\n      pathname={pageContext.slug}\r\n      thumbnail={thumbnailUrl}\r\n      title={title}\r\n    />\r\n  )\r\n}\r\n\r\nconst PostPage: React.FC<PageProps> = ({ pageContext }: any) => {\r\n  const { slug } = pageContext\r\n  const { getNodeByUrl } = useNotion()\r\n  const node = notionNodeToJson(getNodeByUrl(slug))\r\n  const title = getPlainTextByRichText(node?.properties?.remark?.rich_text)\r\n  const series = node?.properties?.series?.select\r\n\r\n  const breadcrumbSteps: BreadcrumbStep[] = [\r\n    { name: '홈', url: paths.home() },\r\n    { name: '글 목록', url: paths.posts() },\r\n  ]\r\n  if (series) {\r\n    breadcrumbSteps.push({\r\n      name: `${series.name}`,\r\n      url: paths.posts({ series: series?.name }),\r\n    })\r\n  }\r\n\r\n  return (\r\n    <MainLayout className=\"post\">\r\n      <Breadcrumb steps={breadcrumbSteps} />\r\n      <article>\r\n        <Title slug={slug} title={title} />\r\n\r\n        <TitleDescription\r\n          createdDate={node?.properties?.created_date}\r\n          editedDate={node?.properties?.edited_date}\r\n          tag={node?.properties?.tag?.multi_select}\r\n          useTagLink\r\n        />\r\n\r\n        <LastEditedCaution\r\n          lastEditedDate={\r\n            new Date(node?.properties?.edited_date?.date?.start ?? 0)\r\n          }\r\n        />\r\n\r\n        <TableOfContents target={['h1', 'h2', 'h3']} />\r\n\r\n        <div className=\"contents-box\">\r\n          {node?.children && <Contents childrens={node.children} />}\r\n        </div>\r\n        {/* } */}\r\n      </article>\r\n      <section className=\"post__footer\"></section>\r\n      {<FloatBox useTop />}\r\n    </MainLayout>\r\n  )\r\n}\r\n\r\nexport default PostPage\r\n"],"names":["Head","_ref","_node$properties","_node$properties$rema","_node$properties2","_node$properties2$ser","_node$properties2$ser2","_node$properties$tag","_node$properties$tag$","_node$children","_imageBlock$image","_node$properties3","_node$properties5","_node$properties$seri","_node$properties7","_node$properties7$ser","_node$properties7$ser2","pageContext","getNodeByUrl","useNotion","node","notionNodeToJson","slug","title","getPlainTextByRichText","properties","remark","rich_text","tagNames","series","select","name","tag","multi_select","map","t","imageBlock","children","find","c","type","BlockType","IMAGE","thumbnailUrl","image","encodeURIComponent","file","url","id","descriptions","_node$properties4","_node$properties4$cre","_node$properties6","_node$properties6$edi","push","created_date","date","start","edited_date","___EmotionJSX","SEO","description","join","keywords","concat","_toConsumableArray","pathname","thumbnail","_ref2","_node$properties8","_node$properties8$rem","_node$properties9","_node$properties9$ser","_node$properties0","_node$properties1","_node$properties10","_node$properties10$ta","_node$properties$edit","_node$properties11","_node$properties11$ed","_node$properties11$ed2","breadcrumbSteps","paths","home","posts","MainLayout","className","Breadcrumb","steps","Title","TitleDescription","createdDate","editedDate","useTagLink","LastEditedCaution","lastEditedDate","Date","TableOfContents","target","Contents","childrens","FloatBox","useTop"],"sourceRoot":""}