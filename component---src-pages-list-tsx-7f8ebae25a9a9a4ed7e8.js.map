{"version":3,"file":"component---src-pages-list-tsx-7f8ebae25a9a9a4ed7e8.js","mappings":"6OAwBO,MAAMA,EAAeA,KAExBC,EAAAA,EAAAA,IAACC,EAAAA,EAAG,CACFC,YAAa,kBACbC,SAAUC,EAAAA,EAAMC,QAChBC,MAAO,wBAEPN,EAAAA,EAAAA,IAAA,QACEO,KAAM,kCAAkCH,EAAAA,EAAMC,UAC9CG,IAAI,eAoGZ,UA9FsCC,IAAkB,IAAjB,SAAEC,GAAUD,EACjD,MAAME,EAAS,IAAIC,gBAAgBF,EAASG,SACtC,MAAER,IAAUS,EAAAA,EAAAA,KAEZC,GAASC,EAAAA,EAAAA,GAAcL,EAAQ,UAC/BM,GAAMD,EAAAA,EAAAA,GAAcL,EAAQ,OAC5BO,GAAUF,EAAAA,EAAAA,GAAcL,EAAQ,YAEhC,EAACQ,EAAI,EAAEC,IAAWC,EAAAA,EAAAA,UAAuB,KACzC,EAACC,EAAU,EAAEC,IAAiBF,EAAAA,EAAAA,UAAS,OACvC,EAACG,EAAS,EAAEC,IAAgBJ,EAAAA,EAAAA,WAAS,IAE3CK,EAAAA,EAAAA,YAAU,KACRC,IACAC,IACAH,GAAa,EAAM,GAClB,CAACf,IAEJ,MAAMkB,EAAoBA,KACxB,IAAIC,EAAsB,GAGxBA,EADEnB,EAASG,OACHR,EAAMyB,QAAOC,IACP,IAAAC,EAAAC,EAEIC,EAAAC,EAEIC,EAAAC,EAAAC,EAAAC,EAAAC,EAJpB,OAAIzB,GACK0B,EAAAA,EAAAA,IAAgC,QAAlBT,EAACD,EAAKW,oBAAY,IAAAV,GAAQ,QAARC,EAAjBD,EAAmBjB,cAAM,IAAAkB,OAAR,EAAjBA,EAA2BU,KAAM5B,GAC9CE,EACe,QAAxBiB,EAAOH,EAAKW,oBAAY,IAAAR,GAAK,QAALC,EAAjBD,EAAmBjB,WAAG,IAAAkB,OAAL,EAAjBA,EAAwBS,MAAKC,IAAKJ,EAAAA,EAAAA,IAAeI,EAAEF,KAAM1B,MACvDC,KAEPuB,EAAAA,EAAAA,IAAgC,QAAlBL,EAACL,EAAKW,oBAAY,IAAAN,OAAA,EAAjBA,EAAmBU,OAAQ5B,KACzB,QADiCmB,EAClDN,EAAKW,oBAAY,IAAAL,GAAK,QAALC,EAAjBD,EAAmBpB,WAAG,IAAAqB,OAAL,EAAjBA,EAAwBM,MAAKC,IAC3BJ,EAAAA,EAAAA,IAAeI,EAAEF,KAAMzB,QAEzBuB,EAAAA,EAAAA,IAAgC,QAAlBF,EAACR,EAAKW,oBAAY,IAAAH,GAAQ,QAARC,EAAjBD,EAAmBxB,cAAM,IAAAyB,OAAR,EAAjBA,EAA2BG,KAAMzB,GAGzC,IAGLb,EAGVe,EAAQS,EAAM,EAGVF,EAAcA,KAClBJ,EACEwB,mBAAmBhC,GAAUE,GAAOC,GACjC8B,WAAW,KAAM,IACjBC,eAAiB,KACrB,EAGH,OACEjD,EAAAA,EAAAA,IAACkD,EAAAA,EAAU,CAACC,UAAU,iBACpBnD,EAAAA,EAAAA,IAAA,WAASmD,UAAU,yBACjBnD,EAAAA,EAAAA,IAACoD,EAAAA,GAAW,OAEZpD,EAAAA,EAAAA,IAAA,YACAA,EAAAA,EAAAA,IAACqD,EAAAA,GAAgB,CACfC,aAAchC,EACdE,UAAWA,EACX+B,OAAQpC,EAAKoC,WAIfvD,EAAAA,EAAAA,IAACwD,EAAAA,EAAa,CAACC,SAAS,EAAOjC,UAAWA,IAExCxB,EAAAA,EAAAA,IAAC0D,EAAAA,GAAK,CAACvC,KAAMA,KAKN,C","sources":["webpack://EunmiPark/./src/pages/list.tsx"],"sourcesContent":["import { HeadFC, PageProps, graphql } from 'gatsby'\r\n\r\nimport * as React from 'react'\r\nimport { useEffect, useState } from 'react'\r\n\r\nimport '@scss/global.scss'\r\nimport '@scss/pages/PostsPage.scss'\r\n\r\nimport SEO from '@components/header/SEO'\r\nimport {\r\n  Posts,\r\n  PostsDescription,\r\n  PostsFilter,\r\n  ResetDivider,\r\n} from '@components/post'\r\nimport { LoadContainer } from '@components/ui'\r\nimport { useNotion } from '@hooks/useNotion'\r\nimport { MainLayout } from '@layout/main'\r\nimport { includesString } from '@utils/common.util'\r\nimport { getParamValue, paths } from '@utils/url.util'\r\n\r\nimport { NotionNode } from '@appTypes/notion.type'\r\nimport Images from '@components/post/list/Images'\r\n\r\nexport const Head: HeadFC = () => {\r\n  return (\r\n    <SEO\r\n      description={`열심히 글을 작성해 봅시다.`}\r\n      pathname={paths.posts()}\r\n      title={`SilverMi: Post List`}\r\n    >\r\n      <link\r\n        href={`https://eunmipark-dev.github.io${paths.posts()}`}\r\n        rel=\"canonical\"\r\n      />\r\n    </SEO>\r\n  )\r\n}\r\n\r\nconst ListPage: React.FC<PageProps> = ({ location }) => {\r\n  const params = new URLSearchParams(location.search)\r\n  const { posts } = useNotion()\r\n\r\n  const series = getParamValue(params, 'series')\r\n  const tag = getParamValue(params, 'tag')\r\n  const keyword = getParamValue(params, 'keyword')\r\n\r\n  const [list, setList] = useState<NotionNode[]>([])\r\n  const [filterText, setFilterText] = useState('전체')\r\n  const [isLoading, setIsLoading] = useState(true)\r\n\r\n  useEffect(() => {\r\n    checkFilter()\r\n    checkFilteredList()\r\n    setIsLoading(false)\r\n  }, [location])\r\n\r\n  const checkFilteredList = () => {\r\n    let _list: NotionNode[] = []\r\n\r\n    if (location.search) {\r\n      _list = posts.filter(post => {\r\n        if (series) {\r\n          return includesString(post.notionColumn?.series?.name, series)\r\n        } else if (tag) {\r\n          return post.notionColumn?.tag?.find(t => includesString(t.name, tag))\r\n        } else if (keyword) {\r\n          return (\r\n            includesString(post.notionColumn?.remark, keyword) ||\r\n            post.notionColumn?.tag?.find(t =>\r\n              includesString(t.name, keyword),\r\n            ) ||\r\n            includesString(post.notionColumn?.series?.name, keyword)\r\n          )\r\n        }\r\n        return true\r\n      })\r\n    } else {\r\n      _list = posts\r\n    }\r\n\r\n    setList(_list)\r\n  }\r\n\r\n  const checkFilter = () => {\r\n    setFilterText(\r\n      decodeURIComponent(series || tag || keyword)\r\n        .replaceAll(/ /g, '')\r\n        .toUpperCase() || '전체',\r\n    )\r\n  }\r\n\r\n  return (\r\n    <MainLayout className=\"posts-layout\">\r\n      <section className=\"posts-layout__header\">\r\n        <PostsFilter />\r\n        {/* <ResetDivider /> */}\r\n        <br />\r\n        <PostsDescription\r\n          filteredText={filterText}\r\n          isLoading={isLoading}\r\n          length={list.length}\r\n        />\r\n      </section>\r\n      {\r\n        <LoadContainer isError={false} isLoading={isLoading}>\r\n          {/* 리스트 시작 */}\r\n          <Posts list={list} />\r\n          {/* <Images list={list} /> */}\r\n          {/* 리스트 끝 */}\r\n        </LoadContainer>\r\n      }\r\n    </MainLayout>\r\n  )\r\n}\r\n\r\nexport const postQuery = graphql`\r\n  query {\r\n    allNotion {\r\n      edges {\r\n        node {\r\n          id\r\n          databaseName\r\n          title\r\n          json\r\n          createdAt\r\n          updatedAt\r\n        }\r\n      }\r\n    }\r\n  }\r\n`\r\n\r\nexport default ListPage\r\n"],"names":["Head","___EmotionJSX","SEO","description","pathname","paths","posts","title","href","rel","_ref","location","params","URLSearchParams","search","useNotion","series","getParamValue","tag","keyword","list","setList","useState","filterText","setFilterText","isLoading","setIsLoading","useEffect","checkFilter","checkFilteredList","_list","filter","post","_post$notionColumn","_post$notionColumn$se","_post$notionColumn2","_post$notionColumn2$t","_post$notionColumn3","_post$notionColumn4","_post$notionColumn4$t","_post$notionColumn5","_post$notionColumn5$s","includesString","notionColumn","name","find","t","remark","decodeURIComponent","replaceAll","toUpperCase","MainLayout","className","PostsFilter","PostsDescription","filteredText","length","LoadContainer","isError","Posts"],"sourceRoot":""}